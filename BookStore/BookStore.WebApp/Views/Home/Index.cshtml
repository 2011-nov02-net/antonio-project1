@model BookStore.WebApp.Models.PurchaseViewModel
@{
    ViewData["Title"] = "Home Page";
}
<script>
    $(function () {
        $("#SelectedLocation").change(function () {
            var v = $(this).val();
            var url = $("#SelectedCustomer").data("url") + '?id=' + v;
            var $fac = $("#SelectedCustomer");
            $.getJSON(url, function (data) {
                $fac.empty();
                $.each(data, function (i, item) {
                    $fac.append($("<option>").text(item.Text).val(item.Value));
                });
            });
        });
    });
</script>

<div class="text-center">
    <h1 class="display-4">Place an order for a Customer!</h1>
    <form class="form-control" asp-action="Create">
        <div class="form-group">
            <label asp-for="Customers" class="control-label"></label>
            @Html.DropDownListFor(a => a.SelectedLocation, Model.Locations, "Select one")
            @Html.DropDownListFor(a => a.SelectedCustomer, Model.Customers, "Select one",
                                                new { data_url = Url.Action("GetCustomerList") })
        </div>
        <div class="form-group">
            <input type="submit" value="Get Information" class="btn btn-primary" />
        </div>
    </form>
</div>
